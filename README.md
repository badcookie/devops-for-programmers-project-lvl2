# Деплой Docker-приложения с помощью Ansible
Ansible-скрипт для выкладки приложения с мониторингом

## Зависимости
* make
* ansible 2.10.10

## Предварительные требования
* создайте файл `vault-password` в корне проекта с паролем, с помощью которого будут шифроваться данные для деплоя
* установите зависимости для ansible с помощью `make install`
* при необходимости переопределите конфигурационные переменные для внешних сервисов (БД, Datadog) и приложения,
  которое нужно выкатить (образ, порт)

## CLI
* `make encrypt name=<variable_name>`

  шифрует значение переменной `name` для использования затем в ansible

* `make install`

  устанавливает зависимости для ansible

* `make deploy inventory=<path_to_inventory_file>`
  
  выполняет скрипт выкладки приложения и конфигурации серверов из файла `inventory`
